"use strict";!function(){var t={data:{link:"#",name:"",poster:"",quality:""},update:function(){var t=document.querySelector("img.tzsk-poster"),e=document.querySelector(".tzsk-name"),a=document.querySelector(".tzsk-download"),n=document.querySelector(".tzsk-stream");t.src=this.data.poster,e.innerHTML=this.data.name;var o="Download",r="Stream";if(""!=this.data.quality){var i=" in "+this.data.quality;o+=i,r+=i}a.querySelector("span").innerHTML=o,n.querySelector("span").innerHTML=r,n.href=this.data.link},toggle:function(){Array.from(document.querySelectorAll(".tzsk-loaded")).forEach(function(t){"none"===t.style.display?t.style.display="block":t.style.display="none"})},init:function(){var t=this;chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{from:"popup"},function(e){e.status&&(t.data=Object.assign({},t.data,e.data),t.update(),t.toggle())})}),document.querySelector(".tzsk-download").addEventListener("click",function(){chrome.downloads.download({url:t.data.link,filename:t.data.name+".mp4",conflictAction:"prompt"})})}};t.init()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvcG9wdXAuanMiXSwibmFtZXMiOlsiSG9pY2hvaSIsImRhdGEiLCJsaW5rIiwibmFtZSIsInBvc3RlciIsInF1YWxpdHkiLCJ1cGRhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkb3dubG9hZCIsInN0cmVhbSIsInNyYyIsInRoaXMiLCJpbm5lckhUTUwiLCJkVGV4dCIsInNUZXh0IiwicG9zdCIsImhyZWYiLCJ0b2dnbGUiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIml0ZW0iLCJzdHlsZSIsImRpc3BsYXkiLCJpbml0IiwiX3RoaXMiLCJjaHJvbWUiLCJ0YWJzIiwicXVlcnkiLCJhY3RpdmUiLCJjdXJyZW50V2luZG93Iiwic2VuZE1lc3NhZ2UiLCJpZCIsInJlc3BvbnNlIiwic3RhdHVzIiwiT2JqZWN0IiwiYXNzaWduIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRvd25sb2FkcyIsInVybCIsImZpbGVuYW1lIiwiY29uZmxpY3RBY3Rpb24iXSwibWFwcGluZ3MiOiJBQUFBLGNBRUEsV0FDSSxHQUFJQSxJQUNBQyxNQUFRQyxLQUFNLElBQUtDLEtBQU0sR0FBSUMsT0FBUSxHQUFJQyxRQUFTLElBQ2xEQyxPQUFRLFdBQ0osR0FBSUYsR0FBU0csU0FBU0MsY0FBYyxtQkFDaENMLEVBQU9JLFNBQVNDLGNBQWMsY0FDOUJDLEVBQVdGLFNBQVNDLGNBQWMsa0JBQ2xDRSxFQUFTSCxTQUFTQyxjQUFjLGVBRXBDSixHQUFPTyxJQUFNQyxLQUFLWCxLQUFLRyxPQUN2QkQsRUFBS1UsVUFBWUQsS0FBS1gsS0FBS0UsSUFDM0IsSUFBSVcsR0FBUSxXQUNSQyxFQUFRLFFBQ1osSUFBeUIsSUFBckJILEtBQUtYLEtBQUtJLFFBQWUsQ0FDekIsR0FBSVcsR0FBTyxPQUFTSixLQUFLWCxLQUFLSSxPQUM5QlMsSUFBU0UsRUFDVEQsR0FBU0MsRUFFYlAsRUFBU0QsY0FBYyxRQUFRSyxVQUFZQyxFQUMzQ0osRUFBT0YsY0FBYyxRQUFRSyxVQUFZRSxFQUd6Q0wsRUFBT08sS0FBT0wsS0FBS1gsS0FBS0MsTUFFNUJnQixPQUFRLFdBQ0pDLE1BQU1DLEtBQUtiLFNBQVNjLGlCQUFpQixpQkFBaUJDLFFBQVEsU0FBVUMsR0FDekMsU0FBdkJBLEVBQUtDLE1BQU1DLFFBQ1hGLEVBQUtDLE1BQU1DLFFBQVUsUUFFckJGLEVBQUtDLE1BQU1DLFFBQVUsVUFJakNDLEtBQU0sV0FDRixHQUFJQyxHQUFRZixJQUVaZ0IsUUFBT0MsS0FBS0MsT0FBUUMsUUFBUSxFQUFNQyxlQUFlLEdBQVEsU0FBVUgsR0FDL0RELE9BQU9DLEtBQUtJLFlBQVlKLEVBQUssR0FBR0ssSUFBTWQsS0FBTSxTQUFXLFNBQVVlLEdBQ3pEQSxFQUFTQyxTQUNUVCxFQUFNMUIsS0FBT29DLE9BQU9DLFVBQVdYLEVBQU0xQixLQUFNa0MsRUFBU2xDLE1BQ3BEMEIsRUFBTXJCLFNBQ05xQixFQUFNVCxjQUtsQlgsU0FBU0MsY0FBYyxrQkFBa0IrQixpQkFBaUIsUUFBUyxXQUMvRFgsT0FBT1ksVUFBVS9CLFVBQ2JnQyxJQUFLZCxFQUFNMUIsS0FBS0MsS0FDaEJ3QyxTQUFVZixFQUFNMUIsS0FBS0UsS0FBTyxPQUM1QndDLGVBQWdCLGNBTWhDM0MsR0FBUTBCIiwiZmlsZSI6InNjcmlwdHMvcG9wdXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIEhvaWNob2kgPSB7XG4gICAgICAgIGRhdGE6IHsgbGluazogJyMnLCBuYW1lOiAnJywgcG9zdGVyOiAnJywgcXVhbGl0eTogJycgfSxcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgICAgICB2YXIgcG9zdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW1nLnR6c2stcG9zdGVyJyk7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50enNrLW5hbWUnKTtcbiAgICAgICAgICAgIHZhciBkb3dubG9hZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50enNrLWRvd25sb2FkJyk7XG4gICAgICAgICAgICB2YXIgc3RyZWFtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR6c2stc3RyZWFtJyk7XG5cbiAgICAgICAgICAgIHBvc3Rlci5zcmMgPSB0aGlzLmRhdGEucG9zdGVyO1xuICAgICAgICAgICAgbmFtZS5pbm5lckhUTUwgPSB0aGlzLmRhdGEubmFtZTtcbiAgICAgICAgICAgIHZhciBkVGV4dCA9ICdEb3dubG9hZCc7XG4gICAgICAgICAgICB2YXIgc1RleHQgPSAnU3RyZWFtJztcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEucXVhbGl0eSAhPSAnJykge1xuICAgICAgICAgICAgICAgIHZhciBwb3N0ID0gJyBpbiAnICsgdGhpcy5kYXRhLnF1YWxpdHk7XG4gICAgICAgICAgICAgICAgZFRleHQgKz0gcG9zdDtcbiAgICAgICAgICAgICAgICBzVGV4dCArPSBwb3N0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG93bmxvYWQucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVySFRNTCA9IGRUZXh0O1xuICAgICAgICAgICAgc3RyZWFtLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lckhUTUwgPSBzVGV4dDtcblxuICAgICAgICAgICAgLy8gZG93bmxvYWQuaHJlZiA9IHRoaXMuZGF0YS5saW5rO1xuICAgICAgICAgICAgc3RyZWFtLmhyZWYgPSB0aGlzLmRhdGEubGluaztcbiAgICAgICAgfSxcbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50enNrLWxvYWRlZCcpKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSwgZnVuY3Rpb24gKHRhYnMpIHtcbiAgICAgICAgICAgICAgICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWJzWzBdLmlkLCB7IGZyb206ICdwb3B1cCcgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpcy5kYXRhLCByZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHpzay1kb3dubG9hZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IF90aGlzLmRhdGEubGluayxcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IF90aGlzLmRhdGEubmFtZSArICcubXA0JyxcbiAgICAgICAgICAgICAgICAgICAgY29uZmxpY3RBY3Rpb246ICdwcm9tcHQnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBIb2ljaG9pLmluaXQoKTtcbn0pKCk7Il19
